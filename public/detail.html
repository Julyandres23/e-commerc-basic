<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toko Fashion Online - Detail Produk</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#000000',
                        secondary: '#6B7280'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <style>
        :where([class^="ri-"])::before { content: "\f3c2"; }
        .search-input:focus { outline: none; }
        .search-input::placeholder { color: #9ca3af; }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none; margin: 0;
        }
        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #10b981;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans min-h-screen">
    <!-- Header -->
    <header class="bg-gray-200 py-3 px-4 shadow-sm">
        <div class="container mx-auto flex items-center justify-between">
            <div class="w-24 font-['Pacifico'] text-xl">logo</div>
            <div class="relative w-full max-w-md">
                <input type="text" placeholder="Cari produk" class="search-input w-full py-2 px-4 pr-10 rounded-full border-none bg-white text-sm">
                <div class="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center text-gray-500">
                    <i class="ri-search-line"></i>
                </div>
            </div>
            <div class="flex items-center space-x-4 ml-4">
                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-mail-line text-gray-700"></i></div>
                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-heart-line text-gray-700"></i></div>
                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-shopping-cart-line text-gray-700"></i></div>
                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-user-line text-gray-700"></i></div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200">
        <div class="container mx-auto">
            <ul class="flex space-x-8 px-4">
                <li><a href="#" class="block py-4 font-medium text-gray-800 hover:text-primary">Pria</a></li>
                <li><a href="#" class="block py-4 font-medium text-gray-800 hover:text-primary">Wanita</a></li>
                <li><a href="#" class="block py-4 font-medium text-gray-800 hover:text-primary">Anak</a></li>
                <li><a href="#" class="block py-4 font-medium text-gray-800 hover:text-primary">Olahraga</a></li>
                <li><a href="#" class="block py-4 font-medium text-gray-800 hover:text-primary">Merek</a></li>
                <li><a href="#" class="block py-4 font-medium text-gray-800 hover:text-primary">Diskon</a></li>
            </ul>
        </div>
    </nav>

    <!-- Product Detail -->
    <main class="container mx-auto py-8 px-4">
        <div class="flex flex-col lg:flex-row gap-8" id="product-detail">
            <!-- Product Gallery will be populated dynamically -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white p-4 text-center border-t border-gray-200">
        <p>Thrift shop is complete, safe and secure thrifting place</p>
        <div class="flex justify-center space-x-4 mt-2">
            <span>Instagram</span>
            <span>Facebook</span>
            <span>Twitter</span>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize cart from localStorage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Function to add product to cart and show notification
            function addToCart(id, title, price, image) {
                const product = { id, title, price, image, quantity: 1 };
                const existingProduct = cart.find(item => item.id === id);
                if (existingProduct) {
                    existingProduct.quantity += 1;
                } else {
                    cart.push(product);
                }
                localStorage.setItem('cart', JSON.stringify(cart));
                showNotification(`${title} ditambahkan ke keranjang!`);
            }

            // Function to show notification
            function showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.textContent = message;
                document.body.appendChild(notification);
                // Show notification
                setTimeout(() => {
                    notification.classList.add('show');
                }, 10);
                // Hide and remove notification after 3 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        notification.remove();
                    }, 300); // Wait for fade-out transition
                }, 3000);
            }

            // Get product ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            if (productId) {
                // Fetch product data
                fetch(`https://fakestoreapi.com/products/${productId}`)
                    .then(response => response.json())
                    .then(product => {
                        const detailSection = document.getElementById('product-detail');
                        detailSection.innerHTML = `
                            <div class="lg:w-3/5">
                                <div class="relative border border-gray-200 rounded overflow-hidden mb-4">
                                    <div class="relative">
                                        <img src="${product.image}" alt="${product.title}" class="w-full h-80 object-contain object-top">
                                    </div>
                                    <button class="absolute top-2 right-2 w-8 h-8 flex items-center justify-center bg-white rounded-full shadow-md">
                                        <i class="ri-heart-line text-gray-700"></i>
                                    </button>
                                    <button class="absolute top-12 right-2 w-8 h-8 flex items-center justify-center bg-white rounded-full shadow-md">
                                        <i class="ri-fullscreen-line text-gray-700"></i>
                                    </button>
                                </div>
                                <div class="relative">
                                    <div class="flex space-x-2 overflow-x-auto pb-2">
                                        <div class="w-12 h-12 flex-shrink-0 border border-gray-200 rounded overflow-hidden">
                                            <img src="${product.image}" alt="${product.title}" class="w-full h-full object-cover object-top">
                                        </div>
                                    </div>
                                    <button class="absolute left-0 top-1/2 transform -translate-y-1/2 w-8 h-8 flex items-center justify-center bg-white rounded-full shadow-md">
                                        <i class="ri-arrow-left-s-line"></i>
                                    </button>
                                    <button class="absolute right-0 top-1/2 transform -translate-y-1/2 w-8 h-8 flex items-center justify-center bg-white rounded-full shadow-md">
                                        <i class="ri-arrow-right-s-line"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="lg:w-2/5">
                                <div class="flex items-center gap-3 mb-4">
                                    <span class="inline-block px-3 py-1 bg-black text-white text-xs rounded-full">Baru Datang</span>
                                    <span class="text-sm text-gray-600">1 Item</span>
                                </div>
                                <h1 class="text-xl font-semibold mb-2">${product.title}</h1>
                                <div class="mb-3">
                                    <span class="text-sm text-gray-700">L - still good</span>
                                </div>
                                <div class="text-xl font-semibold mb-6">$${product.price}</div>
                                <div class="space-y-3 mb-8">
                                    <button id="buy-now" class="w-full py-3 bg-black text-white font-medium rounded !rounded-button whitespace-nowrap">Beli Sekarang</button>
                                    <button id="add-to-cart" class="w-full py-3 bg-white text-black font-medium border border-gray-300 rounded !rounded-button whitespace-nowrap">+ Keranjang</button>
                                </div>
                                <div class="border-t border-gray-200 pt-6">
                                    <h3 class="font-medium mb-3">${product.title}</h3>
                                    <div class="space-y-2 mb-6">
                                        <p class="text-sm">Size: L (XL)</p>
                                        <p class="text-sm">Pit to pit: 58cm/115cm</p>
                                        <p class="text-sm">Length: 68cm</p>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="w-4 h-4 rounded-full bg-purple-700 flex items-center justify-center"></span>
                                        <span class="text-xs">PURPLE</span>
                                    </div>
                                </div>
                            </div>
                        `;

                        // Add event listeners to buttons
                        document.getElementById('buy-now').addEventListener('click', () => {
                            window.location.href = 'checkout.html';
                        });

                        document.getElementById('add-to-cart').addEventListener('click', () => {
                            addToCart(product.id, product.title, product.price, product.image);
                        });
                    })
                    .catch(error => console.error('Error fetching product details:', error));
            } else {
                document.getElementById('product-detail').innerHTML = '<p class="text-center text-red-500">Product not found.</p>';
            }
        });
    </script>
</body>
</html>